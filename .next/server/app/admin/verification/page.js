(()=>{var e={};e.id=125,e.ids=[125],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},32082:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>c}),t(39739),t(9457),t(39252),t(7629),t(27683);var s=t(23191),a=t(88716),i=t(37922),n=t.n(i),l=t(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(r,o);let c=["",{children:["admin",{children:["verification",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,39739)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\admin\\verification\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,9457)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,39252)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,27683)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\admin\\verification\\page.tsx"],p="/admin/verification/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/verification/page",pathname:"/admin/verification",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29625:(e,r,t)=>{Promise.resolve().then(t.bind(t,82832))},71458:(e,r,t)=>{Promise.resolve().then(t.bind(t,45061))},82832:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var s=t(10326),a=t(17577),i=t(35047);t(10373);var n=t(90434),l=t(62881);let o=(0,l.Z)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var c=t(24319);let d=(0,l.Z)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),p=(0,l.Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);function x({children:e}){let[r,t]=(0,a.useState)(!1),[l,x]=(0,a.useState)(!0);return((0,i.useRouter)(),l)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black text-white",children:"Checking permissions..."}):r?(0,s.jsxs)("div",{className:"min-h-screen bg-black text-white flex",children:[(0,s.jsxs)("aside",{className:"w-64 border-r border-gray-800 p-6 hidden md:block sticky top-0 h-screen",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-8 text-indigo-400 font-bold text-xl",children:[s.jsx(o,{})," Admin Panel"]}),(0,s.jsxs)("nav",{className:"space-y-2",children:[(0,s.jsxs)(n.default,{href:"/admin",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-800 transition text-gray-300 hover:text-white",children:[s.jsx(c.Z,{size:20})," Dashboard"]}),(0,s.jsxs)(n.default,{href:"/admin/verification",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-800 transition text-gray-300 hover:text-white",children:[s.jsx(d,{size:20})," Verifications"]}),(0,s.jsxs)(n.default,{href:"/admin/reports",className:"flex items-center gap-3 px-4 py-2 rounded-lg hover:bg-gray-800 transition text-gray-300 hover:text-white",children:[s.jsx(p,{size:20})," Reports"]})]})]}),s.jsx("main",{className:"flex-grow p-8 overflow-y-auto",children:e})]}):null}},45061:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(10326),a=t(17577),i=t(10373);let n=(0,t(62881).Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var l=t(94019),o=t(40381);function c(){let[e,r]=(0,a.useState)([]),[t,c]=(0,a.useState)(!0),d=async()=>{let{data:e,error:t}=await i.O.from("verification_requests").select("*, profiles(first_name, last_name, id)").eq("status","pending").order("created_at",{ascending:!1});t?console.error("Error fetching requests:",t):r(e||[]),c(!1)},p=async(e,r)=>{try{let{error:t}=await i.O.from("verification_requests").update({status:"approved"}).eq("id",e);if(t)throw t;let{error:s}=await i.O.from("profiles").update({verified:!0}).eq("id",r);if(s)throw s;o.Am.success("User verified successfully"),d()}catch(e){console.error("Error approving:",e),o.Am.error("Failed to approve")}},x=async e=>{try{let{error:r}=await i.O.from("verification_requests").update({status:"rejected"}).eq("id",e);if(r)throw r;o.Am.success("Request rejected"),d()}catch(e){console.error("Error rejecting:",e),o.Am.error("Failed to reject")}};return t?s.jsx("div",{children:"Loading..."}):(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Verification Requests"}),s.jsx("div",{className:"bg-gray-900 rounded-xl border border-gray-800 overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[s.jsx("thead",{className:"bg-gray-800 text-gray-400",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"p-4",children:"User"}),s.jsx("th",{className:"p-4",children:"Date"}),s.jsx("th",{className:"p-4",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-800",children:0===e.length?s.jsx("tr",{children:s.jsx("td",{colSpan:3,className:"p-8 text-center text-gray-500",children:"No pending requests"})}):e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-800/50",children:[(0,s.jsxs)("td",{className:"p-4",children:[(0,s.jsxs)("div",{className:"font-medium",children:[e.profiles?.first_name," ",e.profiles?.last_name]}),s.jsx("div",{className:"text-xs text-gray-500",children:e.user_id})]}),s.jsx("td",{className:"p-4 text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),s.jsx("td",{className:"p-4",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>p(e.id,e.user_id),className:"p-2 bg-green-900/30 text-green-500 rounded hover:bg-green-900/50 transition",title:"Approve",children:s.jsx(n,{size:18})}),s.jsx("button",{onClick:()=>x(e.id),className:"p-2 bg-red-900/30 text-red-500 rounded hover:bg-red-900/50 transition",title:"Reject",children:s.jsx(l.Z,{size:18})})]})})]},e.id))})]})})]})}},9457:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\admin\layout.tsx#default`)},39739:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(68570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\admin\verification\page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[880,383],()=>t(32082));module.exports=s})();