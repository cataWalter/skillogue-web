(()=>{var e={};e.id=917,e.ids=[917],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},20993:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>f,tree:()=>c}),r(27395),r(74625),r(39252),r(7629),r(27683);var s=r(23191),a=r(88716),i=r(37922),l=r.n(i),o=r(95231),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);r.d(t,n);let c=["",{children:["settings",{children:["privacy",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27395)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\privacy\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,74625)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,39252)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,7629)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,27683)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\privacy\\page.tsx"],p="/settings/privacy/page",u={require:r,loadChunk:()=>Promise.resolve()},f=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/privacy/page",pathname:"/settings/privacy",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},76629:(e,t,r)=>{Promise.resolve().then(r.bind(r,4310))},71565:(e,t,r)=>{Promise.resolve().then(r.bind(r,30725))},86333:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37358:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},9015:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},77636:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},4310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(10326),a=r(43058);function i({children:e}){return s.jsx(a.Z,{children:e})}},30725:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var s=r(10326),a=r(17577),i=r(10373),l=r(35047),o=r(86333),n=r(9015);let c=(0,r(62881).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var d=r(37358),p=r(77636),u=r(90434),f=r(40381);let g=()=>{let e=(0,l.useRouter)(),[t,r]=(0,a.useState)(!0),[g,x]=(0,a.useState)({is_private:!1,show_age:!0,show_location:!0});(0,a.useEffect)(()=>{(async()=>{let{data:{user:t}}=await i.O.auth.getUser();if(!t){e.push("/login");return}let{data:s,error:a}=await i.O.from("profiles").select("is_private, show_age, show_location").eq("id",t.id).single();a?console.error("Error fetching privacy settings:",a):s&&x({is_private:s.is_private||!1,show_age:s.show_age??!0,show_location:s.show_location??!0}),r(!1)})()},[e]);let h=async(e,t)=>{x(r=>({...r,[e]:t}));let{data:{user:r}}=await i.O.auth.getUser();if(!r)return;let{error:s}=await i.O.from("profiles").update({[e]:t}).eq("id",r.id);s?(console.error(`Error updating ${e}:`,s),f.Am.error("Failed to update setting"),x(r=>({...r,[e]:!t}))):f.Am.success("Settings updated")};return t?s.jsx("div",{className:"p-8 text-center",children:"Loading settings..."}):(0,s.jsxs)("main",{className:"flex-grow p-6 max-w-4xl mx-auto w-full",children:[s.jsx("div",{className:"flex items-center mb-8",children:(0,s.jsxs)(u.default,{href:"/settings",className:"text-gray-400 hover:text-white transition flex items-center gap-2",children:[s.jsx(o.Z,{size:20}),"Back to Settings"]})}),(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[s.jsx(n.Z,{className:"text-indigo-400"})," Privacy Settings"]}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Control who can see your profile and personal details."}),(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-800 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(c,{size:20,className:"text-gray-400"})," Private Profile"]}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"When enabled, only your name and avatar will be visible to others. Your detailed profile info will be hidden."})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:g.is_private,onChange:e=>h("is_private",e.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,s.jsxs)("div",{className:"p-6 border-b border-gray-800 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(d.Z,{size:20,className:"text-gray-400"})," Show Age"]}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Display your age on your public profile."})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:g.show_age,onChange:e=>h("show_age",e.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,s.jsxs)("div",{className:"p-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(p.Z,{size:20,className:"text-gray-400"})," Show Location"]}),s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Display your city and country on your public profile."})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",className:"sr-only peer",checked:g.show_location,onChange:e=>h("show_location",e.target.checked)}),s.jsx("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]})}},43058:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var s=r(10326),a=r(17577),i=r(35047),l=r(10373),o=r(77506);let n=({children:e})=>{let[t,r]=(0,a.useState)(!0),[n,c]=(0,a.useState)(null),[d,p]=(0,a.useState)(!1);(0,i.useRouter)();let u=(0,i.usePathname)();return((0,a.useEffect)(()=>{(async()=>{let{data:{session:e}}=await l.O.auth.getSession();if(c(e),e?.user){let{data:t,error:r}=await l.O.from("profiles").select(`
                        first_name,
                        last_name,
                        about_me,
                        age,
                        gender,
                        location_id,
                        passions_count: profile_passions(count),
                        languages_count: profile_languages(count)
                    `).eq("id",e.user.id).single();r?(console.error("Error checking profile status:",r),p(!1)):p(!!(t.first_name&&t.last_name&&t.age&&t.gender&&t.location_id&&t.passions_count?.[0]?.count>0&&t.languages_count?.[0]?.count>0))}r(!1)})()},[]),t)?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:s.jsx(o.Z,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):n&&(d||"/onboarding"===u)&&(!d||"/onboarding"!==u)?s.jsx(s.Fragment,{children:e}):null}},74625:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\layout.tsx#default`)},27395:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\privacy\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[880,383],()=>r(20993));module.exports=s})();