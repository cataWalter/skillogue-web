(()=>{var e={};e.id=741,e.ids=[741],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},40013:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),t(18553),t(30608),t(74625),t(39252),t(7629),t(27683);var r=t(23191),a=t(88716),l=t(37922),o=t.n(l),i=t(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let c=["",{children:["settings",{children:["blocked",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,18553)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\blocked\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,30608)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\blocked\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,74625)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,39252)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,27683)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\not-found.tsx"]}],d=["C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\blocked\\page.tsx"],u="/settings/blocked/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/blocked/page",pathname:"/settings/blocked",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},230:(e,s,t)=>{Promise.resolve().then(t.bind(t,55715))},7401:(e,s,t)=>{Promise.resolve().then(t.bind(t,94738))},76629:(e,s,t)=>{Promise.resolve().then(t.bind(t,4310))},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},67187:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(62881).Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},55715:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(10326),a=t(43058);function l({children:e}){return r.jsx(a.Z,{children:e})}},94738:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(10326),a=t(17577),l=t(10373),o=t(90434),i=t(86333),n=t(67187),c=t(77506);let d=(0,t(62881).Z)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var u=t(1189),x=t(48648),m=t(40381);let g=()=>{let[e,s]=(0,a.useState)([]),[t,g]=(0,a.useState)(!0),p=async()=>{g(!0);let{data:{session:e}}=await l.O.auth.getSession();if(!e)return;let{data:t,error:r}=await l.O.from("blocks").select(`
                blocked_user_id,
                profile:profiles!blocks_blocked_user_id_fkey (
                    id,
                    first_name,
                    last_name
                )
            `).eq("user_id",e.user.id);r?(console.error("Error fetching blocked users:",r),m.ZP.error("Failed to load blocked users")):s(t),g(!1)};(0,a.useEffect)(()=>{p()},[]);let f=async(e,t)=>{let{data:{session:r}}=await l.O.auth.getSession();if(r&&confirm(`Are you sure you want to unblock ${t}?`))try{let{error:a}=await l.O.from("blocks").delete().eq("user_id",r.user.id).eq("blocked_user_id",e);if(a)throw a;m.ZP.success(`${t} has been unblocked`),s(s=>s.filter(s=>s.blocked_user_id!==e))}catch(s){console.error("Error unblocking user:",s);let e=s instanceof Error?s.message:"Failed to unblock user";m.ZP.error(e)}};return(0,r.jsxs)("main",{className:"flex-grow p-6 max-w-4xl mx-auto w-full",children:[r.jsx("div",{className:"flex items-center mb-8",children:(0,r.jsxs)(o.default,{href:"/settings",className:"text-gray-400 hover:text-white transition flex items-center gap-2",children:[r.jsx(i.Z,{size:20}),"Back to Settings"]})}),(0,r.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[r.jsx(n.Z,{className:"text-red-400",size:32}),"Blocked Users"]}),r.jsx("p",{className:"text-gray-400 mb-8",children:"Users you have blocked will not be able to see your profile or send you messages."}),t?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(c.Z,{className:"animate-spin text-indigo-500",size:32})}):0===e.length?(0,r.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-12 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-800 rounded-full mb-4",children:r.jsx(n.Z,{className:"text-gray-500",size:32})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Blocked Users"}),r.jsx("p",{className:"text-gray-400",children:"You haven't blocked anyone yet."})]}):r.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:r.jsx("ul",{className:"divide-y divide-gray-800",children:e.map(e=>(0,r.jsxs)("li",{className:"p-4 flex items-center justify-between hover:bg-gray-800/30 transition",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(u.Z,{seed:e.profile.id,className:"w-12 h-12 rounded-full"}),r.jsx("div",{children:(0,r.jsxs)("h3",{className:"font-semibold text-white",children:[e.profile.first_name," ",e.profile.last_name]})})]}),(0,r.jsxs)(x.z,{variant:"outline",onClick:()=>f(e.blocked_user_id,e.profile.first_name),className:"!w-auto !px-4 !py-2 text-sm",children:[r.jsx(d,{size:16,className:"mr-2"}),"Unblock"]})]},e.blocked_user_id))})})]})}},4310:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(10326),a=t(43058);function l({children:e}){return r.jsx(a.Z,{children:e})}},43058:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var r=t(10326),a=t(17577),l=t(35047),o=t(10373),i=t(77506);let n=({children:e})=>{let[s,t]=(0,a.useState)(!0),[n,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1);(0,l.useRouter)();let x=(0,l.usePathname)();return((0,a.useEffect)(()=>{(async()=>{let{data:{session:e}}=await o.O.auth.getSession();if(c(e),e?.user){let{data:s,error:t}=await o.O.from("profiles").select(`
                        first_name,
                        last_name,
                        about_me,
                        age,
                        gender,
                        location_id,
                        passions_count: profile_passions(count),
                        languages_count: profile_languages(count)
                    `).eq("id",e.user.id).single();t?(console.error("Error checking profile status:",t),u(!1)):u(!!(s.first_name&&s.last_name&&s.age&&s.gender&&s.location_id&&s.passions_count?.[0]?.count>0&&s.languages_count?.[0]?.count>0))}t(!1)})()},[]),s)?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:r.jsx(i.Z,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):n&&(d||"/onboarding"===x)&&(!d||"/onboarding"!==x)?r.jsx(r.Fragment,{children:e}):null}},30608:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\blocked\layout.tsx#default`)},18553:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\blocked\page.tsx#default`)},74625:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\layout.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[880,383],()=>t(40013));module.exports=r})();