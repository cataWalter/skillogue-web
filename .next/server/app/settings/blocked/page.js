(()=>{var e={};e.id=741,e.ids=[741],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(8553),t(608),t(4625),t(6513),t(5866);var r=t(3191),a=t(8716),l=t(7922),n=t.n(l),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(s,o);let c=["",{children:["settings",{children:["blocked",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,8553)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\blocked\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,608)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\blocked\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,4625)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,6513)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\settings\\blocked\\page.tsx"],u="/settings/blocked/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/settings/blocked/page",pathname:"/settings/blocked",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},230:(e,s,t)=>{Promise.resolve().then(t.bind(t,5715))},7401:(e,s,t)=>{Promise.resolve().then(t.bind(t,4738))},6629:(e,s,t)=>{Promise.resolve().then(t.bind(t,4310))},6333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7506:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7187:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(2881).Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},5715:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(326),a=t(3058);function l({children:e}){return r.jsx(a.Z,{children:e})}},4738:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var r=t(326),a=t(7577),l=t(373),n=t(434),i=t(6333),o=t(7187),c=t(7506);let d=(0,t(2881).Z)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var u=t(1189),m=t(5893),x=t(381);let g=()=>{let[e,s]=(0,a.useState)([]),[t,g]=(0,a.useState)(!0),f=async()=>{g(!0);let{data:{session:e}}=await l.O.auth.getSession();if(!e)return;let{data:t,error:r}=await l.O.from("blocks").select(`
                blocked_user_id,
                profile:profiles!blocks_blocked_user_id_fkey (
                    id,
                    first_name,
                    last_name
                )
            `).eq("user_id",e.user.id);r?(console.error("Error fetching blocked users:",r),x.ZP.error("Failed to load blocked users")):s(t),g(!1)};(0,a.useEffect)(()=>{f()},[]);let p=async(e,t)=>{let{data:{session:r}}=await l.O.auth.getSession();if(r&&confirm(`Are you sure you want to unblock ${t}?`))try{let{error:a}=await l.O.from("blocks").delete().eq("user_id",r.user.id).eq("blocked_user_id",e);if(a)throw a;x.ZP.success(`${t} has been unblocked`),s(s=>s.filter(s=>s.blocked_user_id!==e))}catch(e){console.error("Error unblocking user:",e),x.ZP.error(e.message||"Failed to unblock user")}};return(0,r.jsxs)("main",{className:"flex-grow p-6 max-w-4xl mx-auto w-full",children:[r.jsx("div",{className:"flex items-center mb-8",children:(0,r.jsxs)(n.default,{href:"/settings",className:"text-gray-400 hover:text-white transition flex items-center gap-2",children:[r.jsx(i.Z,{size:20}),"Back to Settings"]})}),(0,r.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[r.jsx(o.Z,{className:"text-red-400",size:32}),"Blocked Users"]}),r.jsx("p",{className:"text-gray-400 mb-8",children:"Users you have blocked will not be able to see your profile or send you messages."}),t?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx(c.Z,{className:"animate-spin text-indigo-500",size:32})}):0===e.length?(0,r.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-12 text-center",children:[r.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-800 rounded-full mb-4",children:r.jsx(o.Z,{className:"text-gray-500",size:32})}),r.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Blocked Users"}),r.jsx("p",{className:"text-gray-400",children:"You haven't blocked anyone yet."})]}):r.jsx("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:r.jsx("ul",{className:"divide-y divide-gray-800",children:e.map(e=>(0,r.jsxs)("li",{className:"p-4 flex items-center justify-between hover:bg-gray-800/30 transition",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx(u.Z,{seed:e.profile.id,className:"w-12 h-12 rounded-full"}),r.jsx("div",{children:(0,r.jsxs)("h3",{className:"font-semibold text-white",children:[e.profile.first_name," ",e.profile.last_name]})})]}),(0,r.jsxs)(m.z,{variant:"outline",onClick:()=>p(e.blocked_user_id,e.profile.first_name),className:"!w-auto !px-4 !py-2 text-sm",children:[r.jsx(d,{size:16,className:"mr-2"}),"Unblock"]})]},e.blocked_user_id))})})]})}},4310:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var r=t(326),a=t(3058);function l({children:e}){return r.jsx(a.Z,{children:e})}},5893:(e,s,t)=>{"use strict";let r,a;t.d(s,{z:()=>m});var l=t(326),n=t(7577),i=t.n(n);let o=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,c=function(){for(var e,s,t=0,r="",a=arguments.length;t<a;t++)(e=arguments[t])&&(s=function e(s){var t,r,a="";if("string"==typeof s||"number"==typeof s)a+=s;else if("object"==typeof s){if(Array.isArray(s)){var l=s.length;for(t=0;t<l;t++)s[t]&&(r=e(s[t]))&&(a&&(a+=" "),a+=r)}else for(r in s)s[r]&&(a&&(a+=" "),a+=r)}return a}(e))&&(r&&(r+=" "),r+=s);return r};var d=t(7506);let u=(r="w-full flex items-center justify-center px-6 py-3 font-semibold rounded-lg shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed",a={variants:{variant:{primary:"bg-primary text-white hover:bg-opacity-90",secondary:"bg-secondary text-white hover:bg-opacity-90",outline:"bg-transparent border border-text-tertiary text-text-secondary hover:bg-background-secondary",danger:"bg-red-600 text-white hover:bg-red-700"}},defaultVariants:{variant:"primary"}},e=>{var s;if((null==a?void 0:a.variants)==null)return c(r,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:t,defaultVariants:l}=a,n=Object.keys(t).map(s=>{let r=null==e?void 0:e[s],a=null==l?void 0:l[s];if(null===r)return null;let n=o(r)||o(a);return t[s][n]}),i=e&&Object.entries(e).reduce((e,s)=>{let[t,r]=s;return void 0===r||(e[t]=r),e},{});return c(r,n,null==a?void 0:null===(s=a.compoundVariants)||void 0===s?void 0:s.reduce((e,s)=>{let{class:t,className:r,...a}=s;return Object.entries(a).every(e=>{let[s,t]=e;return Array.isArray(t)?t.includes({...l,...i}[s]):({...l,...i})[s]===t})?[...e,t,r]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),m=i().forwardRef(({className:e,variant:s,isLoading:t,icon:r,children:a,...n},i)=>l.jsx("button",{className:u({variant:s,className:e}),ref:i,disabled:t,...n,children:t?(0,l.jsxs)(l.Fragment,{children:[l.jsx(d.Z,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),l.jsx("span",{children:"Loading..."})]}):(0,l.jsxs)(l.Fragment,{children:[r&&l.jsx("span",{className:"mr-2",children:r}),a]})}));m.displayName="Button"},3058:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var r=t(326),a=t(7577),l=t(5047),n=t(373),i=t(7506);let o=({children:e})=>{let[s,t]=(0,a.useState)(!0),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(!1);(0,l.useRouter)();let m=(0,l.usePathname)();return((0,a.useEffect)(()=>{(async()=>{let{data:{session:e}}=await n.O.auth.getSession();if(c(e),e?.user){let{data:s,error:t}=await n.O.from("profiles").select(`
                        first_name,
                        last_name,
                        about_me,
                        age,
                        gender,
                        location_id,
                        passions_count: profile_passions(count),
                        languages_count: profile_languages(count)
                    `).eq("id",e.user.id).single();t?(console.error("Error checking profile status:",t),u(!1)):u(!!(s.first_name&&s.last_name&&s.age&&s.gender&&s.location_id&&s.passions_count?.[0]?.count>0&&s.languages_count?.[0]?.count>0))}t(!1)})()},[]),s)?r.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:r.jsx(i.Z,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):o&&(d||"/onboarding"===m)&&(!d||"/onboarding"!==m)?r.jsx(r.Fragment,{children:e}):null}},608:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\blocked\layout.tsx#default`)},8553:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\blocked\page.tsx#default`)},4625:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\settings\layout.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[377,56],()=>t(13));module.exports=r})();