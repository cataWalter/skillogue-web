(()=>{var e={};e.id=193,e.ids=[193],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4106:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(3468),s(6307),s(6513),s(5866);var a=s(3191),r=s(8716),n=s(7922),i=s.n(n),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3468)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\notifications\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6307)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\notifications\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6513)),"C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\wcatalfamo\\Projects\\Personal\\skillogue-web\\src\\app\\notifications\\page.tsx"],u="/notifications/page",g={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},524:(e,t,s)=>{Promise.resolve().then(s.bind(s,9675))},8848:(e,t,s)=>{Promise.resolve().then(s.bind(s,5465))},7506:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(2881).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9675:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(326),r=s(3058);function n({children:e}){return a.jsx(r.Z,{children:e})}},5465:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(326);s(7577);var r=s(434),n=s(2046),i=s(1189),o=s(6507);let l=(0,s(2881).Z)("check-check",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);var c=s(3159);let d=()=>{let{notifications:e,unreadCount:t,markAsRead:s}=(0,n.z)(),d=e=>"new_message"===e.type&&e.actor?`/messages?with=${e.actor.id}`:"#",u=e=>{let t=e.actor?.first_name||"An unknown user";return"new_message"===e.type?(0,a.jsxs)(a.Fragment,{children:[a.jsx("strong",{children:t})," sent you a new message."]}):"You have a new notification."};return(0,a.jsxs)("main",{className:"flex-grow p-6 max-w-3xl mx-auto w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[a.jsx(o.Z,{className:"text-indigo-400"}),"Notifications"]}),t>0&&(0,a.jsxs)("button",{onClick:()=>s(null),className:"flex items-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm font-semibold transition",children:[a.jsx(l,{size:16}),"Mark All as Read"]})]}),a.jsx("div",{className:"bg-gray-900/70 border border-gray-800 rounded-xl shadow-lg",children:0===e.length?a.jsx("p",{className:"text-gray-400 p-12 text-center",children:"You have no notifications yet."}):a.jsx("ul",{className:"divide-y divide-gray-800",children:e.map(e=>a.jsx("li",{children:(0,a.jsxs)(r.default,{href:d(e),onClick:()=>!e.read&&s(e.id),className:`flex items-start gap-4 p-4 transition-colors duration-200 ${e.read?"hover:bg-gray-800/50":"bg-indigo-900/20 hover:bg-indigo-900/40"}`,children:[e.actor?a.jsx(i.Z,{seed:e.actor.id,className:"w-12 h-12 rounded-full flex-shrink-0 mt-1"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-700 flex-shrink-0 mt-1"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-gray-200",children:u(e)}),(0,a.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:[(0,c.Q)(new Date(e.created_at))," ago"]})]}),!e.read&&a.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full mt-2 flex-shrink-0",title:"Unread"})]})},e.id))})})]})}},3058:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(326),r=s(7577),n=s(5047),i=s(373),o=s(7506);let l=({children:e})=>{let[t,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(!1);(0,n.useRouter)();let g=(0,n.usePathname)();return((0,r.useEffect)(()=>{(async()=>{let{data:{session:e}}=await i.O.auth.getSession();if(c(e),e?.user){let{data:t,error:s}=await i.O.from("profiles").select(`
                        first_name,
                        last_name,
                        about_me,
                        age,
                        gender,
                        location_id,
                        passions_count: profile_passions(count),
                        languages_count: profile_languages(count)
                    `).eq("id",e.user.id).single();s?(console.error("Error checking profile status:",s),u(!1)):u(!!(t.first_name&&t.last_name&&t.age&&t.gender&&t.location_id&&t.passions_count?.[0]?.count>0&&t.languages_count?.[0]?.count>0))}s(!1)})()},[]),t)?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-black",children:a.jsx(o.Z,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):l&&(d||"/onboarding"===g)&&(!d||"/onboarding"!==g)?a.jsx(a.Fragment,{children:e}):null}},6307:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\notifications\layout.tsx#default`)},3468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(8570).createProxy)(String.raw`C:\Users\wcatalfamo\Projects\Personal\skillogue-web\src\app\notifications\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[377,56],()=>s(4106));module.exports=a})();