(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[741],{3760:function(e,r,t){Promise.resolve().then(t.bind(t,2419))},2660:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1817:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3745:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9205).Z)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},2419:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return x}});var s=t(7437),a=t(2265),l=t(7905),n=t(7648),i=t(2660),o=t(3745),c=t(1817);let d=(0,t(9205).Z)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var u=t(3764),f=t(795),m=t(9064),x=()=>{let[e,r]=(0,a.useState)([]),[t,x]=(0,a.useState)(!0),h=async()=>{x(!0);let{data:{session:e}}=await l.O.auth.getSession();if(!e)return;let{data:t,error:s}=await l.O.from("blocks").select("\n                blocked_user_id,\n                profile:profiles!blocks_blocked_user_id_fkey (\n                    id,\n                    first_name,\n                    last_name\n                )\n            ").eq("user_id",e.user.id);s?(console.error("Error fetching blocked users:",s),m.ZP.error("Failed to load blocked users")):r(t),x(!1)};(0,a.useEffect)(()=>{h()},[]);let y=async(e,t)=>{let{data:{session:s}}=await l.O.auth.getSession();if(s&&confirm("Are you sure you want to unblock ".concat(t,"?")))try{let{error:a}=await l.O.from("blocks").delete().eq("user_id",s.user.id).eq("blocked_user_id",e);if(a)throw a;m.ZP.success("".concat(t," has been unblocked")),r(r=>r.filter(r=>r.blocked_user_id!==e))}catch(e){console.error("Error unblocking user:",e),m.ZP.error(e.message||"Failed to unblock user")}};return(0,s.jsxs)("main",{className:"flex-grow p-6 max-w-4xl mx-auto w-full",children:[(0,s.jsx)("div",{className:"flex items-center mb-8",children:(0,s.jsxs)(n.default,{href:"/settings",className:"text-gray-400 hover:text-white transition flex items-center gap-2",children:[(0,s.jsx)(i.Z,{size:20}),"Back to Settings"]})}),(0,s.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[(0,s.jsx)(o.Z,{className:"text-red-400",size:32}),"Blocked Users"]}),(0,s.jsx)("p",{className:"text-gray-400 mb-8",children:"Users you have blocked will not be able to see your profile or send you messages."}),t?(0,s.jsx)("div",{className:"flex justify-center py-12",children:(0,s.jsx)(c.Z,{className:"animate-spin text-indigo-500",size:32})}):0===e.length?(0,s.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl p-12 text-center",children:[(0,s.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-800 rounded-full mb-4",children:(0,s.jsx)(o.Z,{className:"text-gray-500",size:32})}),(0,s.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"No Blocked Users"}),(0,s.jsx)("p",{className:"text-gray-400",children:"You haven't blocked anyone yet."})]}):(0,s.jsx)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:(0,s.jsx)("ul",{className:"divide-y divide-gray-800",children:e.map(e=>(0,s.jsxs)("li",{className:"p-4 flex items-center justify-between hover:bg-gray-800/30 transition",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(u.Z,{seed:e.profile.id,className:"w-12 h-12 rounded-full"}),(0,s.jsx)("div",{children:(0,s.jsxs)("h3",{className:"font-semibold text-white",children:[e.profile.first_name," ",e.profile.last_name]})})]}),(0,s.jsxs)(f.z,{variant:"outline",onClick:()=>y(e.blocked_user_id,e.profile.first_name),className:"!w-auto !px-4 !py-2 text-sm",children:[(0,s.jsx)(d,{size:16,className:"mr-2"}),"Unblock"]})]},e.blocked_user_id))})})]})}},3764:function(e,r,t){"use strict";var s=t(7437),a=t(2265),l=t(2523);let n=[t(5397),t(1210),t(4508),t(1241),t(336),t(9519),t(918),t(2250)];r.Z=e=>{let{seed:r,className:t,alt:i}=e,[o,c]=(0,a.useState)("");return((0,a.useEffect)(()=>{let e=e=>{let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return Math.abs(r)},t=async()=>{let t=e(r)%n.length,s=n[t];try{let e=await (0,l.$i)(s,{seed:r,radius:50,backgroundColor:["b6e3f4","c0aede","d1d4f9","ffd5dc","ffdfbf"]}),t=await e.toDataUri();c(t)}catch(e){console.error("Failed to generate avatar:",e)}};r&&t()},[r]),o)?(0,s.jsx)("img",{src:o,alt:i||"User Avatar",className:t||"w-12 h-12 rounded-full object-cover"}):(0,s.jsx)("div",{className:t||"w-12 h-12 rounded-full bg-gray-700 animate-pulse","aria-label":"Loading avatar"})}},795:function(e,r,t){"use strict";let s,a;t.d(r,{z:function(){return u}});var l=t(7437),n=t(2265);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,o=function(){for(var e,r,t=0,s="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=function e(r){var t,s,a="";if("string"==typeof r||"number"==typeof r)a+=r;else if("object"==typeof r){if(Array.isArray(r)){var l=r.length;for(t=0;t<l;t++)r[t]&&(s=e(r[t]))&&(a&&(a+=" "),a+=s)}else for(s in r)r[s]&&(a&&(a+=" "),a+=s)}return a}(e))&&(s&&(s+=" "),s+=r);return s};var c=t(1817);let d=(s="w-full flex items-center justify-center px-6 py-3 font-semibold rounded-lg shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed",a={variants:{variant:{primary:"bg-primary text-white hover:bg-opacity-90",secondary:"bg-secondary text-white hover:bg-opacity-90",outline:"bg-transparent border border-text-tertiary text-text-secondary hover:bg-background-secondary",danger:"bg-red-600 text-white hover:bg-red-700"}},defaultVariants:{variant:"primary"}},e=>{var r;if((null==a?void 0:a.variants)==null)return o(s,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:t,defaultVariants:l}=a,n=Object.keys(t).map(r=>{let s=null==e?void 0:e[r],a=null==l?void 0:l[r];if(null===s)return null;let n=i(s)||i(a);return t[r][n]}),c=e&&Object.entries(e).reduce((e,r)=>{let[t,s]=r;return void 0===s||(e[t]=s),e},{});return o(s,n,null==a?void 0:null===(r=a.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:t,className:s,...a}=r;return Object.entries(a).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...c}[r]):({...l,...c})[r]===t})?[...e,t,s]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),u=n.forwardRef((e,r)=>{let{className:t,variant:s,isLoading:a,icon:n,children:i,...o}=e;return(0,l.jsx)("button",{className:d({variant:s,className:t}),ref:r,disabled:a,...o,children:a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.Z,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),(0,l.jsx)("span",{children:"Loading..."})]}):(0,l.jsxs)(l.Fragment,{children:[n&&(0,l.jsx)("span",{className:"mr-2",children:n}),i]})})});u.displayName="Button"},7905:function(e,r,t){"use strict";t.d(r,{O:function(){return l}});var s=t(9066),a=t(257);let l=(0,s.eI)(a.env.REACT_APP_SUPABASE_URL,a.env.REACT_APP_SUPABASE_ANON_KEY)}},function(e){e.O(0,[328,647,362,779,145,64,971,117,744],function(){return e(e.s=3760)}),_N_E=e.O()}]);