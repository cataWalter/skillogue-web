(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[604],{8190:function(e,r,t){Promise.resolve().then(t.bind(t,7121))},1817:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,r,t){"use strict";var a=t(5475);t.o(a,"useParams")&&t.d(r,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},7121:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return u}});var a=t(7437),n=t(2265),s=t(7905),l=t(9376);let o=(0,t(9205).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var i=t(795),u=()=>{let[e,r]=(0,n.useState)(""),[t,u]=(0,n.useState)(!1),[c,d]=(0,n.useState)(""),m=(0,l.useRouter)(),f=async()=>{if("DELETE"!==e){d('To confirm, you must type "DELETE" in the box.');return}u(!0),d("");try{let{error:e}=await s.O.rpc("delete_user_account");if(e)throw e;await s.O.auth.signOut(),m.push("/?deleted=true")}catch(e){console.error("Account deletion error:",e),d("Failed to delete account: ".concat(e.message||"An unexpected error occurred. Please try again later."))}finally{u(!1)}};return(0,a.jsx)("main",{className:"flex-grow flex items-center justify-center px-6 py-12",children:(0,a.jsxs)("div",{className:"w-full max-w-lg bg-gray-900/70 backdrop-blur-sm border border-red-500/50 rounded-2xl shadow-2xl p-8",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-500/20 mb-4",children:(0,a.jsx)(o,{className:"h-6 w-6 text-red-400","aria-hidden":"true"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Delete Account"}),(0,a.jsx)("p",{className:"mt-2 text-gray-400",children:"This is a permanent action and cannot be undone. All your data, including your profile, messages, and connections, will be permanently removed."})]}),(0,a.jsxs)("div",{className:"mt-8 space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"confirmation",className:"block text-sm font-medium text-gray-300 mb-2",children:['To confirm, please type "',(0,a.jsx)("strong",{children:"DELETE"}),'" below:']}),(0,a.jsx)("input",{id:"confirmation",type:"text",value:e,onChange:e=>r(e.target.value),className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent text-white placeholder-gray-500",placeholder:"DELETE",disabled:t})]}),c&&(0,a.jsxs)("div",{className:"bg-red-900/30 text-red-300 p-3 rounded-lg text-sm flex items-start",children:[(0,a.jsx)(o,{className:"w-5 h-5 mr-2 mt-0.5"}),c]}),(0,a.jsx)(i.z,{variant:"danger",isLoading:t,onClick:f,className:"w-full",children:"Permanently Delete Account"})]})]})})}},795:function(e,r,t){"use strict";let a,n;t.d(r,{z:function(){return d}});var s=t(7437),l=t(2265);let o=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=function(){for(var e,r,t=0,a="",n=arguments.length;t<n;t++)(e=arguments[t])&&(r=function e(r){var t,a,n="";if("string"==typeof r||"number"==typeof r)n+=r;else if("object"==typeof r){if(Array.isArray(r)){var s=r.length;for(t=0;t<s;t++)r[t]&&(a=e(r[t]))&&(n&&(n+=" "),n+=a)}else for(a in r)r[a]&&(n&&(n+=" "),n+=a)}return n}(e))&&(a&&(a+=" "),a+=r);return a};var u=t(1817);let c=(a="w-full flex items-center justify-center px-6 py-3 font-semibold rounded-lg shadow-lg hover:shadow-2xl transform hover:scale-105 transition-all duration-300 disabled:opacity-70 disabled:cursor-not-allowed",n={variants:{variant:{primary:"bg-primary text-white hover:bg-opacity-90",secondary:"bg-secondary text-white hover:bg-opacity-90",outline:"bg-transparent border border-text-tertiary text-text-secondary hover:bg-background-secondary",danger:"bg-red-600 text-white hover:bg-red-700"}},defaultVariants:{variant:"primary"}},e=>{var r;if((null==n?void 0:n.variants)==null)return i(a,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:t,defaultVariants:s}=n,l=Object.keys(t).map(r=>{let a=null==e?void 0:e[r],n=null==s?void 0:s[r];if(null===a)return null;let l=o(a)||o(n);return t[r][l]}),u=e&&Object.entries(e).reduce((e,r)=>{let[t,a]=r;return void 0===a||(e[t]=a),e},{});return i(a,l,null==n?void 0:null===(r=n.compoundVariants)||void 0===r?void 0:r.reduce((e,r)=>{let{class:t,className:a,...n}=r;return Object.entries(n).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...s,...u}[r]):({...s,...u})[r]===t})?[...e,t,a]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)}),d=l.forwardRef((e,r)=>{let{className:t,variant:a,isLoading:n,icon:l,children:o,...i}=e;return(0,s.jsx)("button",{className:c({variant:a,className:t}),ref:r,disabled:n,...i,children:n?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Z,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),(0,s.jsx)("span",{children:"Loading..."})]}):(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)("span",{className:"mr-2",children:l}),o]})})});d.displayName="Button"},7905:function(e,r,t){"use strict";t.d(r,{O:function(){return s}});var a=t(9066),n=t(257);let s=(0,a.eI)(n.env.REACT_APP_SUPABASE_URL,n.env.REACT_APP_SUPABASE_ANON_KEY)}},function(e){e.O(0,[362,971,117,744],function(){return e(e.s=8190)}),_N_E=e.O()}]);