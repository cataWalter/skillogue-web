(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7917],{9914:function(e,t,r){Promise.resolve().then(r.bind(r,1890))},2660:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},6337:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3774:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9205).Z)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return s.a}});var a=r(2972),s=r.n(a)},9376:function(e,t,r){"use strict";var a=r(5475);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},1890:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=r(7437),s=r(2265),i=r(7905),n=r(9376),c=r(2660),l=r(6337);let o=(0,r(9205).Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var d=r(1047),u=r(3774),f=r(7648),h=r(9064),p=()=>{let e=(0,n.useRouter)(),[t,r]=(0,s.useState)(!0),[p,x]=(0,s.useState)({is_private:!1,show_age:!0,show_location:!0});(0,s.useEffect)(()=>{(async()=>{let{data:{user:t}}=await i.O.auth.getUser();if(!t){e.push("/login");return}let{data:a,error:s}=await i.O.from("profiles").select("is_private, show_age, show_location").eq("id",t.id).single();if(s)console.error("Error fetching privacy settings:",s);else if(a){var n,c;x({is_private:a.is_private||!1,show_age:null===(n=a.show_age)||void 0===n||n,show_location:null===(c=a.show_location)||void 0===c||c})}r(!1)})()},[e]);let m=async(e,t)=>{x(r=>({...r,[e]:t}));let{data:{user:r}}=await i.O.auth.getUser();if(!r)return;let{error:a}=await i.O.from("profiles").update({[e]:t}).eq("id",r.id);a?(console.error("Error updating ".concat(e,":"),a),h.Am.error("Failed to update setting"),x(r=>({...r,[e]:!t}))):h.Am.success("Settings updated")};return t?(0,a.jsx)("div",{className:"p-8 text-center",children:"Loading settings..."}):(0,a.jsxs)("main",{className:"flex-grow p-6 max-w-4xl mx-auto w-full",children:[(0,a.jsx)("div",{className:"flex items-center mb-8",children:(0,a.jsxs)(f.default,{href:"/settings",className:"text-gray-400 hover:text-white transition flex items-center gap-2",children:[(0,a.jsx)(c.Z,{size:20}),"Back to Settings"]})}),(0,a.jsxs)("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[(0,a.jsx)(l.Z,{className:"text-indigo-400"})," Privacy Settings"]}),(0,a.jsx)("p",{className:"text-gray-400 mb-8",children:"Control who can see your profile and personal details."}),(0,a.jsxs)("div",{className:"bg-gray-900/50 border border-gray-800 rounded-xl overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-800 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(o,{size:20,className:"text-gray-400"})," Private Profile"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"When enabled, only your name and avatar will be visible to others. Your detailed profile info will be hidden."})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:p.is_private,onChange:e=>m("is_private",e.target.checked)}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"p-6 border-b border-gray-800 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(d.Z,{size:20,className:"text-gray-400"})," Show Age"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Display your age on your public profile."})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:p.show_age,onChange:e=>m("show_age",e.target.checked)}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]}),(0,a.jsxs)("div",{className:"p-6 flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[(0,a.jsx)(u.Z,{size:20,className:"text-gray-400"})," Show Location"]}),(0,a.jsx)("p",{className:"text-gray-400 text-sm mt-1",children:"Display your city and country on your public profile."})]}),(0,a.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",className:"sr-only peer",checked:p.show_location,onChange:e=>m("show_location",e.target.checked)}),(0,a.jsx)("div",{className:"w-11 h-6 bg-gray-700 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-indigo-800 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-indigo-600"})]})]})]})]})}},7905:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});let a=(0,r(9066).eI)("https://oyucjqjijrtipvssqxbc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im95dWNqcWppanJ0aXB2c3NxeGJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNjM0NzUsImV4cCI6MjA2OTczOTQ3NX0.xzU_Qw-z0WbtUoLEaVPTrSXEAuDZt708p9kq2X6rsvo")}},function(e){e.O(0,[8193,2972,9064,2971,2117,1744],function(){return e(e.s=9914)}),_N_E=e.O()}]);