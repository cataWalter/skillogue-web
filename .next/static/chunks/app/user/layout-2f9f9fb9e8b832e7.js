(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[972],{148:function(e,n,t){Promise.resolve().then(t.bind(t,6413))},1817:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});let s=(0,t(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,n,t){"use strict";var s=t(5475);t.o(s,"useParams")&&t.d(n,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(n,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(n,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(n,{useSearchParams:function(){return s.useSearchParams}})},6413:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var s=t(7437),u=t(8223);function a(e){let{children:n}=e;return(0,s.jsx)(u.Z,{children:n})}},8223:function(e,n,t){"use strict";var s=t(7437),u=t(2265),a=t(9376),i=t(7905),r=t(1817);n.Z=e=>{let{children:n}=e,[t,o]=(0,u.useState)(!0),[c,l]=(0,u.useState)(null),[d,f]=(0,u.useState)(!1),m=(0,a.useRouter)(),h=(0,a.usePathname)();return((0,u.useEffect)(()=>{(async()=>{let{data:{session:e}}=await i.O.auth.getSession();if(l(e),null==e?void 0:e.user){let{data:a,error:r}=await i.O.from("profiles").select("\n                        first_name,\n                        last_name,\n                        about_me,\n                        age,\n                        gender,\n                        location_id,\n                        passions_count: profile_passions(count),\n                        languages_count: profile_languages(count)\n                    ").eq("id",e.user.id).single();if(r)console.error("Error checking profile status:",r),f(!1);else{var n,t,s,u;f(!!(a.first_name&&a.last_name&&a.age&&a.gender&&a.location_id&&(null===(t=a.passions_count)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.count)>0&&(null===(u=a.languages_count)||void 0===u?void 0:null===(s=u[0])||void 0===s?void 0:s.count)>0))}}o(!1)})()},[]),t)?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-black",children:(0,s.jsx)(r.Z,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):c?d||"/onboarding"===h?d&&"/onboarding"===h?(m.push("/dashboard"),null):(0,s.jsx)(s.Fragment,{children:n}):(m.push("/onboarding"),null):(m.push("/login"),null)}},7905:function(e,n,t){"use strict";t.d(n,{O:function(){return s}});let s=(0,t(9066).eI)("https://oyucjqjijrtipvssqxbc.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im95dWNqcWppanJ0aXB2c3NxeGJjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQxNjM0NzUsImV4cCI6MjA2OTczOTQ3NX0.xzU_Qw-z0WbtUoLEaVPTrSXEAuDZt708p9kq2X6rsvo")}},function(e){e.O(0,[362,971,117,744],function(){return e(e.s=148)}),_N_E=e.O()}]);