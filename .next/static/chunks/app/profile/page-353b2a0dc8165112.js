(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4178],{506:function(e,a,s){Promise.resolve().then(s.bind(s,1380))},5868:function(e,a,s){"use strict";s.d(a,{Z:function(){return t}});let t=(0,s(9205).Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1380:function(e,a,s){"use strict";s.r(a);var t=s(7437),l=s(2265),i=s(7905),r=s(7648),n=s(9376),o=s(4740),u=s(1417),d=s(5868);a.default=()=>{let[e,a]=(0,l.useState)(null),[s,f]=(0,l.useState)([]),[c,p]=(0,l.useState)([]),[m,g]=(0,l.useState)(!0),h=(0,n.useRouter)();if((0,l.useEffect)(()=>{(async()=>{var e,s;g(!0);let{data:{user:t}}=await i.O.auth.getUser();if(!t){h.push("/login");return}let{data:l,error:r}=await i.O.from("profiles").select("*, locations(*)").eq("id",t.id).single();if(r){console.error("Error loading profile:",r),"PGRST116"===r.code&&h.push("/edit-profile"),g(!1);return}a(l);let[n,o]=await Promise.all([i.O.from("profile_passions").select("passions(name)").eq("profile_id",t.id),i.O.from("profile_languages").select("languages(name)").eq("profile_id",t.id)]);f((null===(e=n.data)||void 0===e?void 0:e.map(e=>e.passions.name))||[]),p((null===(s=o.data)||void 0===s?void 0:s.map(e=>e.languages.name))||[]),g(!1)})()},[h]),m)return(0,t.jsx)("main",{className:"flex-grow p-4 sm:p-6 w-full",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsx)(u.Z,{})})});if(!e)return(0,t.jsx)("div",{className:"text-center p-10 text-white",children:"Could not load profile."});let x=(0,t.jsxs)(r.default,{href:"/edit-profile",className:"self-center sm:self-auto flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 rounded-lg transition-all duration-300 transform hover:scale-105 text-white",children:[(0,t.jsx)(d.Z,{size:16})," Edit Profile"]});return(0,t.jsx)("main",{className:"flex-grow p-4 sm:p-6 w-full",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsx)(o.Z,{profile:e,passions:s,languages:c,actionSlot:x})})})}}},function(e){e.O(0,[2328,7647,8193,2972,6018,5731,2971,2117,1744],function(){return e(e.s=506)}),_N_E=e.O()}]);