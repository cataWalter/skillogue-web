(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[663],{2361:function(e,n,t){Promise.resolve().then(t.bind(t,7123))},1817:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});let u=(0,t(9205).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,n,t){"use strict";var u=t(5475);t.o(u,"useParams")&&t.d(n,{useParams:function(){return u.useParams}}),t.o(u,"usePathname")&&t.d(n,{usePathname:function(){return u.usePathname}}),t.o(u,"useRouter")&&t.d(n,{useRouter:function(){return u.useRouter}}),t.o(u,"useSearchParams")&&t.d(n,{useSearchParams:function(){return u.useSearchParams}})},7123:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var u=t(7437),s=t(8223);function a(e){let{children:n}=e;return(0,u.jsx)(s.Z,{children:n})}},8223:function(e,n,t){"use strict";var u=t(7437),s=t(2265),a=t(9376),r=t(7905),o=t(1817);n.Z=e=>{let{children:n}=e,[t,i]=(0,s.useState)(!0),[l,c]=(0,s.useState)(null),[d,f]=(0,s.useState)(!1),_=(0,a.useRouter)(),h=(0,a.usePathname)();return((0,s.useEffect)(()=>{(async()=>{let{data:{session:e}}=await r.O.auth.getSession();if(c(e),null==e?void 0:e.user){let{data:a,error:o}=await r.O.from("profiles").select("\n                        first_name,\n                        last_name,\n                        about_me,\n                        age,\n                        gender,\n                        location_id,\n                        passions_count: profile_passions(count),\n                        languages_count: profile_languages(count)\n                    ").eq("id",e.user.id).single();if(o)console.error("Error checking profile status:",o),f(!1);else{var n,t,u,s;f(!!(a.first_name&&a.last_name&&a.age&&a.gender&&a.location_id&&(null===(t=a.passions_count)||void 0===t?void 0:null===(n=t[0])||void 0===n?void 0:n.count)>0&&(null===(s=a.languages_count)||void 0===s?void 0:null===(u=s[0])||void 0===u?void 0:u.count)>0))}}i(!1)})()},[]),t)?(0,u.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-black",children:(0,u.jsx)(o.Z,{className:"w-12 h-12 text-indigo-500 animate-spin"})}):l?d||"/onboarding"===h?d&&"/onboarding"===h?(_.push("/dashboard"),null):(0,u.jsx)(u.Fragment,{children:n}):(_.push("/onboarding"),null):(_.push("/login"),null)}},7905:function(e,n,t){"use strict";t.d(n,{O:function(){return a}});var u=t(9066),s=t(257);let a=(0,u.eI)(s.env.REACT_APP_SUPABASE_URL,s.env.REACT_APP_SUPABASE_ANON_KEY)}},function(e){e.O(0,[362,971,117,744],function(){return e(e.s=2361)}),_N_E=e.O()}]);